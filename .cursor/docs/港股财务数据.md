# 数据来源
## 页面
### 东方财富页面-港股F10数据页
https://emweb.securities.eastmoney.com/PC_HKF10/pages/home/index.html?code=00388&type=web&color=w#/NewFinancialAnalysis

## 核心接口
### 1.重要指标
https://datacenter.eastmoney.com/securities/api/data/v1/get?reportName=RPT_HKF10_FN_MAININDICATOR&columns=ALL&quoteColumns=&filter=(SECUCODE%3D%2200388.HK%22)&pageNumber=1&pageSize=9&sortTypes=-1&sortColumns=STD_REPORT_DATE&source=F10&client=PC&v=0391365200322224

返回结果：
data: [{
  "SECUCODE": "00388.HK",
  "SECURITY_CODE": "00388",
  "SECURITY_NAME_ABBR": "香港交易所",
  "ORG_CODE": "10008877",
  "STD_REPORT_DATE": "2025-03-31 00:00:00",
  "REPORT_DATE": "2025-03-31 00:00:00",
  "DATE_TYPE_CODE": "003",
  "REPORT_TYPE": "2025年一季报",
  "PER_NETCASH_OPERATE": null,
  "PER_OI": 4.991056290407,
  "BPS": 37.813966070139,
  "BASIC_EPS": 2.9807409,
  "DILUTED_EPS": 2.9715126,
  "OPERATE_INCOME": 6327845310,
  "OPERATE_INCOME_YOY": 31.8400307633,
  "GROSS_PROFIT": null,
  "GROSS_PROFIT_YOY": null,
  "HOLDER_PROFIT": 3762377910,
  "HOLDER_PROFIT_YOY": 37.2727272727,
  "GROSS_PROFIT_RATIO": null,
  "EPS_TTM": 10.375740335274,
  "OPERATE_INCOME_QOQ": 7.784457334583,
  "NET_PROFIT_RATIO": 59.763745078,
  "ROE_AVG": 7.706775800308,
  "GROSS_PROFIT_QOQ": null,
  "ROA": 1.069994488623,
  "HOLDER_PROFIT_QOQ": 8.853456095588,
  "ROE_YEARLY": 30.827103201233,
  "ROIC_YEARLY": 6.722467378019,
  "TOTAL_ASSETS": 351073139730,
  "TOTAL_LIABILITIES": 302599648320,
  "TAX_EBT": 16.007378561181,
  "OCF_SALES": null,
  "TOTAL_PARENT_EQUITY": 47941941330,
  "DEBT_ASSET_RATIO": 86.1927655738,
  "OPERATE_PROFIT": 4518175680,
  "PRETAX_PROFIT": 4502487570,
  "NETCASH_OPERATE": null,
  "NETCASH_INVEST": null,
  "NETCASH_FINANCE": null,
  "END_CASH": null,
  "DIVI_RATIO": 0.820845599908,
  "DIVIDEND_RATE": 2.237796036733,
  "CURRENT_RATIO": 1.078633203897,
  "COMMON_ACS": null,
  "CURRENTDEBT_DEBT": 99.192751537035,
  "ISSUED_COMMON_SHARES": 1267836895,
  "HK_COMMON_SHARES": 1267836895,
  "PER_SHARES": 100,
  "TOTAL_MARKET_CAP": 524630907151,
  "HKSK_MARKET_CAP": 524630907151,
  "PE_TTM": 37.05805659045,
  "PB_TTM": 10.098571868703,
  "REPORT_DATE_SQ": "2024-03-31 00:00:00",
  "REPORT_TYPE_SQ": "2024年一季报",
  "OPERATE_INCOME_SQ": 4714966550,
  "DPS_HKD": 9.26,
  "OPERATE_INCOME_QOQ_SQ": -0.809822250995,
  "NET_PROFIT_RATIO_SQ": 57.7004422226,
  "HOLDER_PROFIT_SQ": 2692453500,
  "HOLDER_PROFIT_QOQ_SQ": -2.706559099169,
  "ROE_AVG_SQ": 5.891746595384,
  "PE_TTM_SQ": 27.167933464286,
  "PB_TTM_SQ": 6.2731980171,
  "ROA_SQ": 0.872104546836,
  "START_DATE": "2025-01-01 00:00:00",
  "FISCAL_YEAR": "12-31",
  "CURRENCY": "HKD",
  "IS_CNY_CODE": 0,
  "DPS_HKD_LY": 4.9,
  "ORG_TYPE": "证券",
  "PREMIUM_INCOME": null,
  "PREMIUM_INCOME_YOY": null,
  "NET_INTEREST_INCOME": null,
  "NET_INTEREST_INCOME_YOY": null,
  "FEE_COMMISSION_INCOME": null,
  "FEE_COMMISSION_INCOME_YOY": null,
  "ACCOUNTS_RECE_TDAYS": 0.133001008612,
  "INVENTORY_TDAYS": null,
  "CURRENT_ASSETS_TDAYS": 0.019468802926,
  "TOTAL_ASSETS_TDAYS": 0.017995958323,
  "PREMIUM_EXPENSE": null,
  "LOAN_DEPOSIT": null,
  "LOAN_EQUITY": null,
  "LOAN_ASSETS": null,
  "DEPOSIT_EQUITY": null,
  "DEPOSIT_ASSETS": null,
  "EQUITY_MULTIPLIER": 7.242580006482,
  "EQUITY_RATIO": 6.311793805702
}]

### 2.资产负债
https://datacenter.eastmoney.com/securities/api/data/v1/get?reportName=RPT_HKF10_FN_BALANCE_PC&columns=SECUCODE%2CSECURITY_CODE%2CSECURITY_NAME_ABBR%2CORG_CODE%2CREPORT_DATE%2CDATE_TYPE_CODE%2CFISCAL_YEAR%2CSTD_ITEM_CODE%2CSTD_ITEM_NAME%2CAMOUNT%2CSTD_REPORT_DATE&quoteColumns=&filter=(SECUCODE%3D%2200388.HK%22)(REPORT_DATE%20in%20(%272025-03-31%27%2C%272024-12-31%27%2C%272024-09-30%27%2C%272024-06-30%27%2C%272024-03-31%27%2C%272023-12-31%27%2C%272023-09-30%27%2C%272023-06-30%27))&pageNumber=1&pageSize=&sortTypes=-1%2C1&sortColumns=REPORT_DATE%2CSTD_ITEM_CODE&source=F10&client=PC&v=07956401139605905

返回结果
data: [
  {
  "SECUCODE": "00388.HK",
  "SECURITY_CODE": "00388",
  "SECURITY_NAME_ABBR": "香港交易所",
  "ORG_CODE": "10008877",
  "REPORT_DATE": "2025-03-31 00:00:00",
  "DATE_TYPE_CODE": "003",
  "FISCAL_YEAR": "12-31",
  "STD_ITEM_CODE": "003001001",
  "STD_ITEM_NAME": "固定资产",
  "AMOUNT": 1469145360,
  "STD_REPORT_DATE": "2025-03-31 00:00:00"
}]

### 3.利润表
https://datacenter.eastmoney.com/securities/api/data/v1/get?reportName=RPT_HKF10_FN_INCOME_PC&columns=SECUCODE%2CSECURITY_CODE%2CSECURITY_NAME_ABBR%2CORG_CODE%2CREPORT_DATE%2CDATE_TYPE_CODE%2CFISCAL_YEAR%2CSTART_DATE%2CSTD_ITEM_CODE%2CSTD_ITEM_NAME%2CAMOUNT&quoteColumns=&filter=(SECUCODE%3D%2200388.HK%22)(REPORT_DATE%20in%20(%272025-03-31%27%2C%272024-12-31%27%2C%272024-09-30%27%2C%272024-06-30%27%2C%272024-03-31%27%2C%272023-12-31%27%2C%272023-09-30%27%2C%272023-06-30%27))&pageNumber=1&pageSize=&sortTypes=-1%2C1&sortColumns=REPORT_DATE%2CSTD_ITEM_CODE&source=F10&client=PC&v=08122767709863961

返回结果：
data: [
  {
  "SECUCODE": "00388.HK",
  "SECURITY_CODE": "00388",
  "SECURITY_NAME_ABBR": "香港交易所",
  "ORG_CODE": "10008877",
  "REPORT_DATE": "2025-03-31 00:00:00",
  "DATE_TYPE_CODE": "003",
  "FISCAL_YEAR": "12-31",
  "START_DATE": "2025-01-01 00:00:00",
  "STD_ITEM_CODE": "003001997",
  "STD_ITEM_NAME": "经营收入其他项目",
  "AMOUNT": 5071873680
}]

### 4.现金流量表
https://datacenter.eastmoney.com/securities/api/data/v1/get?reportName=RPT_HKF10_FN_CASHFLOW_PC&columns=SECUCODE%2CSECURITY_CODE%2CSECURITY_NAME_ABBR%2CORG_CODE%2CREPORT_DATE%2CDATE_TYPE_CODE%2CFISCAL_YEAR%2CSTART_DATE%2CSTD_ITEM_CODE%2CSTD_ITEM_NAME%2CAMOUNT&quoteColumns=&filter=(SECUCODE%3D%2200388.HK%22)(REPORT_DATE%20in%20(%272024-12-31%27%2C%272024-06-30%27%2C%272023-12-31%27%2C%272023-06-30%27%2C%272022-12-31%27%2C%272022-06-30%27%2C%272021-12-31%27%2C%272021-06-30%27))&pageNumber=1&pageSize=&sortTypes=-1%2C1&sortColumns=REPORT_DATE%2CSTD_ITEM_CODE&source=F10&client=PC&v=05295176816734208

返回数据结果：
data: [
  {
  "SECUCODE": "00388.HK",
  "SECURITY_CODE": "00388",
  "SECURITY_NAME_ABBR": "香港交易所",
  "ORG_CODE": "10008877",
  "REPORT_DATE": "2024-12-31 00:00:00",
  "DATE_TYPE_CODE": "001",
  "FISCAL_YEAR": "12-31",
  "START_DATE": "2024-01-01 00:00:00",
  "STD_ITEM_CODE": "001001",
  "STD_ITEM_NAME": "除税前溢利(业务利润)",
  "AMOUNT": 13754472120
}]


目标
建一个表，来存储所有港股公司所有报告期的财务数据
SECURITY_CODE REPORT_DATE作为联合主键
其他字段为上面4个核心接口返回的字段的并集，合并规则如下：
规则1: 对于属性字段，建议合并，如：
"SECUCODE": "00388.HK",
"SECURITY_CODE": "00388",
"SECURITY_NAME_ABBR": "香港交易所",
"ORG_CODE": "10008877",
"REPORT_DATE": "2024-12-31 00:00:00",
"DATE_TYPE_CODE": "001",
"FISCAL_YEAR": "12-31",
"START_DATE": "2024-01-01 00:00:00",


规则2: 对于不同接口中相同的数据字段，如：
"STD_ITEM_CODE": "003001997",
"STD_ITEM_NAME": "经营收入其他项目",
"AMOUNT": 5071873680
建议每个接口的字段，添加上接口的前缀，来避免覆盖


爬虫规则
1.先爬核心指标接口，默认pageSize为100，获取100个报告期的核心指标数据
2.根据核心指标返回的结果条目，来判断真正的报告期数量，限制报告期最多取100条；
3.根据第2步报告期的真实数量，拼接出负债表、利润表、现金流表接口的报告期参数，然后并行爬虫3个接口，并将返回的数据统一入库

